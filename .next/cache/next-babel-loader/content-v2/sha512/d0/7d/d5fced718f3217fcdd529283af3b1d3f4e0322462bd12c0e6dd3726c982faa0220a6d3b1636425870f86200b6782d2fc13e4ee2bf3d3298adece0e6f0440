{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\thetn\\\\OneDrive\\\\Desktop\\\\ecommpj\\\\pages\\\\products\\\\[id].js\";\nimport React, { useContext, useState } from 'react';\nimport { Alert } from '@material-ui/lab';\nimport getCommerce from '../../utils/commerce';\nimport { Box, Button, Card, Grid, List, ListItem, MenuItem, Select, Slide, Typography } from '@material-ui/core';\nimport { useStyles } from '../../utils/styles';\nimport Layout from '../../components/Layout';\nimport { Store } from '../../components/Store';\nimport Router from 'next/router';\nimport { CART_RETRIEVE_SUCCESS } from '../../utils/constants';\nexport default function Home(props) {\n  const classes = useStyles();\n  const {\n    state,\n    dispatch\n  } = useContext(Store);\n  const {\n    userInfo,\n    cart\n  } = state;\n  const {\n    0: quantity,\n    1: setQuantity\n  } = useState(1);\n  const {\n    product\n  } = props;\n\n  const addToCartHandler = async () => {\n    const commerce = getCommerce(props.commercePublicKey);\n    const lineItem = cart.data.line_items.find(x => x.product_id === product.id);\n\n    if (lineItem) {\n      const cartData = await commerce.cart.update(lineItem.id, {\n        quantity: quantity\n      });\n      dispatch({\n        type: CART_RETRIEVE_SUCCESS,\n        payload: cartData.cart\n      });\n      Router.push('/cart');\n    } else {\n      const cartData = await commerce.cart.add(product.id, quantity);\n      dispatch({\n        type: CART_RETRIEVE_SUCCESS,\n        payload: cartData.cart\n      });\n      Router.push('/cart');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    userInfo: userInfo,\n    title: product.name,\n    commercePublicKey: props.commercePublicKey,\n    children: /*#__PURE__*/_jsxDEV(Slide, {\n      direction: \"up\",\n      in: true,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 1,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          md: 6,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: product.media.source,\n            alt: product.name,\n            className: classes.largeImage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          md: 3,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(List, {\n            children: [/*#__PURE__*/_jsxDEV(ListItem, {\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                gutterBottom: true,\n                variant: \"h6\",\n                color: \"textPrimary\",\n                component: \"h1\",\n                children: product.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n              children: /*#__PURE__*/_jsxDEV(Box, {\n                dangerouslySetInnerHTML: {\n                  __html: product.description\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          md: 3,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            children: /*#__PURE__*/_jsxDEV(List, {\n              children: [/*#__PURE__*/_jsxDEV(ListItem, {\n                children: /*#__PURE__*/_jsxDEV(Grid, {\n                  container: true,\n                  children: [/*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 6,\n                    children: \"Price\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 90,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 6,\n                    children: product.price.formatted_with_symbol\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 93,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n                children: /*#__PURE__*/_jsxDEV(Grid, {\n                  alignItems: \"center\",\n                  container: true,\n                  children: [/*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 6,\n                    children: \"Status\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 101,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                    item: true,\n                    xs: 6,\n                    children: product.quantity > 0 ? /*#__PURE__*/_jsxDEV(Alert, {\n                      icon: false,\n                      severity: \"success\",\n                      children: \"In Stock\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 106,\n                      columnNumber: 25\n                    }, this) : /*#__PURE__*/_jsxDEV(Alert, {\n                      icon: false,\n                      severity: \"error\",\n                      children: \"Unavailable\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 110,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 104,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 100,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 17\n              }, this), product.quantity > 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(ListItem, {\n                  children: /*#__PURE__*/_jsxDEV(Grid, {\n                    container: true,\n                    justify: \"flex-end\",\n                    children: [/*#__PURE__*/_jsxDEV(Grid, {\n                      item: true,\n                      xs: 6,\n                      children: \"Quantity\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 121,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                      item: true,\n                      xs: 6,\n                      children: /*#__PURE__*/_jsxDEV(Select, {\n                        labelId: \"quanitity-label\",\n                        id: \"quanitity\",\n                        fullWidth: true,\n                        onChange: e => setQuantity(e.target.value),\n                        value: quantity,\n                        children: [...Array(product.quantity).keys()].map(x => /*#__PURE__*/_jsxDEV(MenuItem, {\n                          value: x + 1,\n                          children: x + 1\n                        }, x + 1, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 133,\n                          columnNumber: 31\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 125,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 124,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 120,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 119,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    type: \"button\",\n                    fullWidth: true,\n                    variant: \"contained\",\n                    color: \"primary\",\n                    onClick: addToCartHandler,\n                    children: \"Add to cart\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 142,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)\n    }, product.name, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\nexport async function getServerSideProps({\n  params\n}) {\n  const {\n    id\n  } = params;\n  const commerce = getCommerce();\n  const product = await commerce.products.retrieve(id, {\n    type: 'permalink'\n  });\n  return {\n    props: {\n      product\n    }\n  };\n}","map":{"version":3,"sources":["C:/Users/thetn/OneDrive/Desktop/ecommpj/pages/products/[id].js"],"names":["React","useContext","useState","Alert","getCommerce","Box","Button","Card","Grid","List","ListItem","MenuItem","Select","Slide","Typography","useStyles","Layout","Store","Router","CART_RETRIEVE_SUCCESS","Home","props","classes","state","dispatch","userInfo","cart","quantity","setQuantity","product","addToCartHandler","commerce","commercePublicKey","lineItem","data","line_items","find","x","product_id","id","cartData","update","type","payload","push","add","name","media","source","largeImage","__html","description","price","formatted_with_symbol","e","target","value","Array","keys","map","getServerSideProps","params","products","retrieve"],"mappings":"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","sourcesContent":["import React, { useContext, useState } from 'react';\nimport { Alert } from '@material-ui/lab';\nimport getCommerce from '../../utils/commerce';\n\nimport {\n  Box,\n  Button,\n  Card,\n  Grid,\n  List,\n  ListItem,\n  MenuItem,\n  Select,\n  Slide,\n  Typography,\n} from '@material-ui/core';\n\nimport { useStyles } from '../../utils/styles';\n\nimport Layout from '../../components/Layout';\nimport { Store } from '../../components/Store';\nimport Router from 'next/router';\nimport { CART_RETRIEVE_SUCCESS } from '../../utils/constants';\n\nexport default function Home(props) {\n  const classes = useStyles();\n\n  const { state, dispatch } = useContext(Store);\n  const { userInfo, cart } = state;\n\n  const [quantity, setQuantity] = useState(1);\n  const { product } = props;\n  const addToCartHandler = async () => {\n    const commerce = getCommerce(props.commercePublicKey);\n    const lineItem = cart.data.line_items.find(\n      (x) => x.product_id === product.id\n    );\n    if (lineItem) {\n      const cartData = await commerce.cart.update(lineItem.id, {\n        quantity: quantity,\n      });\n      dispatch({ type: CART_RETRIEVE_SUCCESS, payload: cartData.cart });\n      Router.push('/cart');\n    } else {\n      const cartData = await commerce.cart.add(product.id, quantity);\n      dispatch({ type: CART_RETRIEVE_SUCCESS, payload: cartData.cart });\n      Router.push('/cart');\n    }\n  };\n\n  return (\n    <Layout\n      userInfo={userInfo}\n      title={product.name}\n      commercePublicKey={props.commercePublicKey}\n    >\n      <Slide key={product.name} direction=\"up\" in={true}>\n        <Grid container spacing={1}>\n          <Grid item md={6}>\n            <img\n              src={product.media.source}\n              alt={product.name}\n              className={classes.largeImage}\n            />\n          </Grid>\n          <Grid item md={3} xs={12}>\n            <List>\n              <ListItem>\n                <Typography\n                  gutterBottom\n                  variant=\"h6\"\n                  color=\"textPrimary\"\n                  component=\"h1\"\n                >\n                  {product.name}\n                </Typography>\n              </ListItem>\n              <ListItem>\n                <Box\n                  dangerouslySetInnerHTML={{ __html: product.description }}\n                ></Box>\n              </ListItem>\n            </List>\n          </Grid>\n          <Grid item md={3} xs={12}>\n            <Card>\n              <List>\n                <ListItem>\n                  <Grid container>\n                    <Grid item xs={6}>\n                      Price\n                    </Grid>\n                    <Grid item xs={6}>\n                      {product.price.formatted_with_symbol}\n                    </Grid>\n                  </Grid>\n                </ListItem>\n\n                <ListItem>\n                  <Grid alignItems=\"center\" container>\n                    <Grid item xs={6}>\n                      Status\n                    </Grid>\n                    <Grid item xs={6}>\n                      {product.quantity > 0 ? (\n                        <Alert icon={false} severity=\"success\">\n                          In Stock\n                        </Alert>\n                      ) : (\n                        <Alert icon={false} severity=\"error\">\n                          Unavailable\n                        </Alert>\n                      )}\n                    </Grid>\n                  </Grid>\n                </ListItem>\n                {product.quantity > 0 && (\n                  <>\n                    <ListItem>\n                      <Grid container justify=\"flex-end\">\n                        <Grid item xs={6}>\n                          Quantity\n                        </Grid>\n                        <Grid item xs={6}>\n                          <Select\n                            labelId=\"quanitity-label\"\n                            id=\"quanitity\"\n                            fullWidth\n                            onChange={(e) => setQuantity(e.target.value)}\n                            value={quantity}\n                          >\n                            {[...Array(product.quantity).keys()].map((x) => (\n                              <MenuItem key={x + 1} value={x + 1}>\n                                {x + 1}\n                              </MenuItem>\n                            ))}\n                          </Select>\n                        </Grid>\n                      </Grid>\n                    </ListItem>\n                    <ListItem>\n                      <Button\n                        type=\"button\"\n                        fullWidth\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={addToCartHandler}\n                      >\n                        Add to cart\n                      </Button>\n                    </ListItem>\n                  </>\n                )}\n              </List>\n            </Card>\n          </Grid>\n        </Grid>\n      </Slide>\n    </Layout>\n  );\n}\n\nexport async function getServerSideProps({ params }) {\n  const { id } = params;\n  const commerce = getCommerce();\n  const product = await commerce.products.retrieve(id, {\n    type: 'permalink',\n  });\n  return {\n    props: {\n      product,\n    },\n  };\n}\n"]},"metadata":{},"sourceType":"module"}